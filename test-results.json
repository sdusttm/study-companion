{"numFailedTestSuites":1,"numFailedTests":4,"numPassedTestSuites":27,"numPassedTests":126,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":28,"numTotalTests":130,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1772250044008,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["/api/upload POST Route"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/upload POST Route returns 401 when unauthenticated","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250044658,"status":"passed","title":"returns 401 when unauthenticated"},{"ancestorTitles":["/api/upload POST Route"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/upload POST Route returns 400 when missing fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250044662,"status":"passed","title":"returns 400 when missing fields"},{"ancestorTitles":["/api/upload POST Route"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/upload POST Route creates book record and returns 200 on success","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1772250044664,"status":"passed","title":"creates book record and returns 200 on success"}],"endTime":1772250044674,"message":"","name":"/Users/mengtian/Codes/study-companion/src/__tests__/api/upload.test.ts","startTime":1772250044282,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["/api/books/[id]/bookmarks","GET"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/bookmarks GET returns 401 Unauthorized if no session exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250044893,"status":"passed","title":"returns 401 Unauthorized if no session exists"},{"ancestorTitles":["/api/books/[id]/bookmarks","GET"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/bookmarks GET returns 404 Not Found if book does not exist or belong to user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250044897,"status":"passed","title":"returns 404 Not Found if book does not exist or belong to user"},{"ancestorTitles":["/api/books/[id]/bookmarks","GET"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/bookmarks GET returns 200 and fetches bookmarks on success","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250044898,"status":"passed","title":"returns 200 and fetches bookmarks on success"},{"ancestorTitles":["/api/books/[id]/bookmarks","GET"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/bookmarks GET returns 500 on db error","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250044899,"status":"passed","title":"returns 500 on db error"},{"ancestorTitles":["/api/books/[id]/bookmarks","POST"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/bookmarks POST returns 401 Unauthorized if no session exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250044914,"status":"passed","title":"returns 401 Unauthorized if no session exists"},{"ancestorTitles":["/api/books/[id]/bookmarks","POST"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/bookmarks POST returns 400 Bad Request if pageNumber is invalid","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250044914,"status":"passed","title":"returns 400 Bad Request if pageNumber is invalid"},{"ancestorTitles":["/api/books/[id]/bookmarks","POST"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/bookmarks POST returns 404 Not Found if book does not exist or belong to user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250044915,"status":"passed","title":"returns 404 Not Found if book does not exist or belong to user"},{"ancestorTitles":["/api/books/[id]/bookmarks","POST"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/bookmarks POST returns 200 and creates the bookmark on success","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1772250044916,"status":"passed","title":"returns 200 and creates the bookmark on success"},{"ancestorTitles":["/api/books/[id]/bookmarks","POST"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/bookmarks POST returns 500 on db error","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250044921,"status":"passed","title":"returns 500 on db error"}],"endTime":1772250044922,"message":"","name":"/Users/mengtian/Codes/study-companion/src/app/api/books/[id]/bookmarks/__tests__/route.test.ts","startTime":1772250044679,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["POST /api/upload"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/upload returns 401 Unauthorized if no session exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250044937,"status":"passed","title":"returns 401 Unauthorized if no session exists"},{"ancestorTitles":["POST /api/upload"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/upload returns 400 Bad Request if required fields are missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250044940,"status":"passed","title":"returns 400 Bad Request if required fields are missing"},{"ancestorTitles":["POST /api/upload"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/upload successfully creates a book record and returns 200","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1772250044940,"status":"passed","title":"successfully creates a book record and returns 200"},{"ancestorTitles":["POST /api/upload"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/upload returns 500 when database throws an error","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250044948,"status":"passed","title":"returns 500 when database throws an error"}],"endTime":1772250044954,"message":"","name":"/Users/mengtian/Codes/study-companion/src/app/api/upload/__tests__/route.test.ts","startTime":1772250044695,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["/api/books/[id]/highlights","GET"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/highlights GET returns 401 Unauthorized if no session exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250044942,"status":"passed","title":"returns 401 Unauthorized if no session exists"},{"ancestorTitles":["/api/books/[id]/highlights","GET"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/highlights GET returns 200 and fetches highlights on success","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250044946,"status":"passed","title":"returns 200 and fetches highlights on success"},{"ancestorTitles":["/api/books/[id]/highlights","GET"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/highlights GET returns 500 on db error","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250044946,"status":"passed","title":"returns 500 on db error"},{"ancestorTitles":["/api/books/[id]/highlights","POST"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/highlights POST returns 401 Unauthorized if no session exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250044955,"status":"passed","title":"returns 401 Unauthorized if no session exists"},{"ancestorTitles":["/api/books/[id]/highlights","POST"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/highlights POST returns 400 Bad Request if missing required fields","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250044955,"status":"passed","title":"returns 400 Bad Request if missing required fields"},{"ancestorTitles":["/api/books/[id]/highlights","POST"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/highlights POST returns 404 Not Found if book does not exist or belong to user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250044956,"status":"passed","title":"returns 404 Not Found if book does not exist or belong to user"},{"ancestorTitles":["/api/books/[id]/highlights","POST"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/highlights POST returns 201 and creates the highlight on success","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250044956,"status":"passed","title":"returns 201 and creates the highlight on success"},{"ancestorTitles":["/api/books/[id]/highlights","POST"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/highlights POST returns 500 on db error","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250044957,"status":"passed","title":"returns 500 on db error"}],"endTime":1772250044959,"message":"","name":"/Users/mengtian/Codes/study-companion/src/app/api/books/[id]/highlights/__tests__/route.test.ts","startTime":1772250044702,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["/api/admin/metrics GET Route"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/admin/metrics GET Route returns 401 when unauthenticated","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045130,"status":"passed","title":"returns 401 when unauthenticated"},{"ancestorTitles":["/api/admin/metrics GET Route"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/admin/metrics GET Route returns 401 when user is not an admin","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045132,"status":"passed","title":"returns 401 when user is not an admin"},{"ancestorTitles":["/api/admin/metrics GET Route"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/admin/metrics GET Route returns metrics and recent data when admin","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1772250045132,"status":"passed","title":"returns metrics and recent data when admin"}],"endTime":1772250045134,"message":"","name":"/Users/mengtian/Codes/study-companion/src/__tests__/api/admin/metrics.test.ts","startTime":1772250044995,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["HighlightPopover component"],"duration":16,"failing":false,"failureDetails":[{}],"failureMessages":["Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n    at createFiberFromTypeAndProps (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)\n    at createFiberFromElement (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)\n    at reconcileChildFibersImpl (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)\n    at /Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:7098:33\n    at reconcileChildren (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)\n    at beginWork (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)\n    at runWithFiberInDEV (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n    at performUnitOfWork (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n    at workLoopSync (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n    at renderRootSync (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n    at performWorkOnRoot (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n    at performWorkOnRootViaSchedulerTask (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n    at flushActQueue (/Users/mengtian/Codes/study-companion/node_modules/react/cjs/react.development.js:590:34)\n    at process.env.NODE_ENV.exports.act (/Users/mengtian/Codes/study-companion/node_modules/react/cjs/react.development.js:884:10)\n    at /Users/mengtian/Codes/study-companion/node_modules/@testing-library/react/dist/act-compat.js:46:25\n    at renderRoot (/Users/mengtian/Codes/study-companion/node_modules/@testing-library/react/dist/pure.js:189:26)\n    at render (/Users/mengtian/Codes/study-companion/node_modules/@testing-library/react/dist/pure.js:291:10)\n    at Object.<anonymous> (/Users/mengtian/Codes/study-companion/src/components/__tests__/HighlightPopover.test.tsx:32:15)\n    at Promise.finally.completed (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/mengtian/Codes/study-companion/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/mengtian/Codes/study-companion/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/mengtian/Codes/study-companion/node_modules/jest-runner/build/testWorker.js:497:12)"],"fullName":"HighlightPopover component renders highlight content and notes","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1772250045203,"status":"failed","title":"renders highlight content and notes"},{"ancestorTitles":["HighlightPopover component"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n    at createFiberFromTypeAndProps (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)\n    at createFiberFromElement (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)\n    at reconcileChildFibersImpl (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)\n    at /Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:7098:33\n    at reconcileChildren (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)\n    at beginWork (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)\n    at runWithFiberInDEV (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n    at performUnitOfWork (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n    at workLoopSync (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n    at renderRootSync (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n    at performWorkOnRoot (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n    at performWorkOnRootViaSchedulerTask (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n    at flushActQueue (/Users/mengtian/Codes/study-companion/node_modules/react/cjs/react.development.js:590:34)\n    at process.env.NODE_ENV.exports.act (/Users/mengtian/Codes/study-companion/node_modules/react/cjs/react.development.js:884:10)\n    at /Users/mengtian/Codes/study-companion/node_modules/@testing-library/react/dist/act-compat.js:46:25\n    at renderRoot (/Users/mengtian/Codes/study-companion/node_modules/@testing-library/react/dist/pure.js:189:26)\n    at render (/Users/mengtian/Codes/study-companion/node_modules/@testing-library/react/dist/pure.js:291:10)\n    at Object.<anonymous> (/Users/mengtian/Codes/study-companion/src/components/__tests__/HighlightPopover.test.tsx:47:15)\n    at Promise.finally.completed (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/mengtian/Codes/study-companion/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/mengtian/Codes/study-companion/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/mengtian/Codes/study-companion/node_modules/jest-runner/build/testWorker.js:497:12)"],"fullName":"HighlightPopover component implements two-step confirmation for deleting a note","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1772250045229,"status":"failed","title":"implements two-step confirmation for deleting a note"},{"ancestorTitles":["HighlightPopover component"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n    at createFiberFromTypeAndProps (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)\n    at createFiberFromElement (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)\n    at reconcileChildFibersImpl (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)\n    at /Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:7098:33\n    at reconcileChildren (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)\n    at beginWork (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)\n    at runWithFiberInDEV (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n    at performUnitOfWork (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n    at workLoopSync (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n    at renderRootSync (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n    at performWorkOnRoot (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n    at performWorkOnRootViaSchedulerTask (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n    at flushActQueue (/Users/mengtian/Codes/study-companion/node_modules/react/cjs/react.development.js:590:34)\n    at process.env.NODE_ENV.exports.act (/Users/mengtian/Codes/study-companion/node_modules/react/cjs/react.development.js:884:10)\n    at /Users/mengtian/Codes/study-companion/node_modules/@testing-library/react/dist/act-compat.js:46:25\n    at renderRoot (/Users/mengtian/Codes/study-companion/node_modules/@testing-library/react/dist/pure.js:189:26)\n    at render (/Users/mengtian/Codes/study-companion/node_modules/@testing-library/react/dist/pure.js:291:10)\n    at Object.<anonymous> (/Users/mengtian/Codes/study-companion/src/components/__tests__/HighlightPopover.test.tsx:75:15)\n    at Promise.finally.completed (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/mengtian/Codes/study-companion/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/mengtian/Codes/study-companion/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/mengtian/Codes/study-companion/node_modules/jest-runner/build/testWorker.js:497:12)"],"fullName":"HighlightPopover component implements two-step confirmation for deleting a highlight","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1772250045230,"status":"failed","title":"implements two-step confirmation for deleting a highlight"},{"ancestorTitles":["HighlightPopover component"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n    at createFiberFromTypeAndProps (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)\n    at createFiberFromElement (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)\n    at reconcileChildFibersImpl (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)\n    at /Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:7098:33\n    at reconcileChildren (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)\n    at beginWork (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)\n    at runWithFiberInDEV (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n    at performUnitOfWork (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n    at workLoopSync (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n    at renderRootSync (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n    at performWorkOnRoot (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n    at performWorkOnRootViaSchedulerTask (/Users/mengtian/Codes/study-companion/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n    at flushActQueue (/Users/mengtian/Codes/study-companion/node_modules/react/cjs/react.development.js:590:34)\n    at process.env.NODE_ENV.exports.act (/Users/mengtian/Codes/study-companion/node_modules/react/cjs/react.development.js:884:10)\n    at /Users/mengtian/Codes/study-companion/node_modules/@testing-library/react/dist/act-compat.js:46:25\n    at renderRoot (/Users/mengtian/Codes/study-companion/node_modules/@testing-library/react/dist/pure.js:189:26)\n    at render (/Users/mengtian/Codes/study-companion/node_modules/@testing-library/react/dist/pure.js:291:10)\n    at Object.<anonymous> (/Users/mengtian/Codes/study-companion/src/components/__tests__/HighlightPopover.test.tsx:103:15)\n    at Promise.finally.completed (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/mengtian/Codes/study-companion/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/mengtian/Codes/study-companion/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/mengtian/Codes/study-companion/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/mengtian/Codes/study-companion/node_modules/jest-runner/build/testWorker.js:497:12)"],"fullName":"HighlightPopover component resets confirmation state after timeout","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1772250045231,"status":"failed","title":"resets confirmation state after timeout"}],"endTime":1772250045269,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mHighlightPopover component › renders highlight content and notes\u001b[39m\u001b[22m\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 30 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 31 |\u001b[39m     it(\u001b[32m'renders highlight content and notes'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 32 |\u001b[39m         render(\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 33 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mHighlightPopover\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 34 |\u001b[39m                 highlight\u001b[33m=\u001b[39m{mockHighlight}\u001b[22m\n\u001b[2m     \u001b[90m 35 |\u001b[39m                 onClose\u001b[33m=\u001b[39m{mockOnClose}\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat createFiberFromTypeAndProps (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:5021:28)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat createFiberFromElement (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:5035:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat reconcileChildFibersImpl (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:6920:31)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:7098:33\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat reconcileChildren (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:9702:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat beginWork (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:11899:15)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat runWithFiberInDEV (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:874:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat performUnitOfWork (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:17641:22)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat workLoopSync (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:17469:41)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat renderRootSync (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:17450:11)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat performWorkOnRoot (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:16583:35)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat performWorkOnRootViaSchedulerTask (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:18957:7)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat flushActQueue (\u001b[22m\u001b[2mnode_modules/react/cjs/react.development.js\u001b[2m:590:34)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat process.env.NODE_ENV.exports.act (\u001b[22m\u001b[2mnode_modules/react/cjs/react.development.js\u001b[2m:884:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/act-compat.js\u001b[2m:46:25\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat renderRoot (\u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/pure.js\u001b[2m:189:26)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat render (\u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/pure.js\u001b[2m:291:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/components/__tests__/HighlightPopover.test.tsx\u001b[39m\u001b[0m\u001b[2m:32:15)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mHighlightPopover component › implements two-step confirmation for deleting a note\u001b[39m\u001b[22m\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 45 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 46 |\u001b[39m     it(\u001b[32m'implements two-step confirmation for deleting a note'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 47 |\u001b[39m         render(\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 48 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mHighlightPopover\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 49 |\u001b[39m                 highlight\u001b[33m=\u001b[39m{mockHighlight}\u001b[22m\n\u001b[2m     \u001b[90m 50 |\u001b[39m                 onClose\u001b[33m=\u001b[39m{mockOnClose}\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat createFiberFromTypeAndProps (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:5021:28)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat createFiberFromElement (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:5035:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat reconcileChildFibersImpl (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:6920:31)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:7098:33\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat reconcileChildren (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:9702:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat beginWork (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:11899:15)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat runWithFiberInDEV (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:874:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat performUnitOfWork (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:17641:22)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat workLoopSync (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:17469:41)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat renderRootSync (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:17450:11)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat performWorkOnRoot (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:16583:35)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat performWorkOnRootViaSchedulerTask (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:18957:7)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat flushActQueue (\u001b[22m\u001b[2mnode_modules/react/cjs/react.development.js\u001b[2m:590:34)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat process.env.NODE_ENV.exports.act (\u001b[22m\u001b[2mnode_modules/react/cjs/react.development.js\u001b[2m:884:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/act-compat.js\u001b[2m:46:25\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat renderRoot (\u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/pure.js\u001b[2m:189:26)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat render (\u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/pure.js\u001b[2m:291:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/components/__tests__/HighlightPopover.test.tsx\u001b[39m\u001b[0m\u001b[2m:47:15)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mHighlightPopover component › implements two-step confirmation for deleting a highlight\u001b[39m\u001b[22m\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 73 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 74 |\u001b[39m     it(\u001b[32m'implements two-step confirmation for deleting a highlight'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 75 |\u001b[39m         render(\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 76 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mHighlightPopover\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 77 |\u001b[39m                 highlight\u001b[33m=\u001b[39m{mockHighlight}\u001b[22m\n\u001b[2m     \u001b[90m 78 |\u001b[39m                 onClose\u001b[33m=\u001b[39m{mockOnClose}\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat createFiberFromTypeAndProps (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:5021:28)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat createFiberFromElement (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:5035:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat reconcileChildFibersImpl (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:6920:31)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:7098:33\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat reconcileChildren (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:9702:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat beginWork (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:11899:15)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat runWithFiberInDEV (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:874:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat performUnitOfWork (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:17641:22)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat workLoopSync (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:17469:41)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat renderRootSync (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:17450:11)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat performWorkOnRoot (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:16583:35)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat performWorkOnRootViaSchedulerTask (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:18957:7)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat flushActQueue (\u001b[22m\u001b[2mnode_modules/react/cjs/react.development.js\u001b[2m:590:34)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat process.env.NODE_ENV.exports.act (\u001b[22m\u001b[2mnode_modules/react/cjs/react.development.js\u001b[2m:884:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/act-compat.js\u001b[2m:46:25\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat renderRoot (\u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/pure.js\u001b[2m:189:26)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat render (\u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/pure.js\u001b[2m:291:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/components/__tests__/HighlightPopover.test.tsx\u001b[39m\u001b[0m\u001b[2m:75:15)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mHighlightPopover component › resets confirmation state after timeout\u001b[39m\u001b[22m\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 101 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 102 |\u001b[39m     it(\u001b[32m'resets confirmation state after timeout'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 103 |\u001b[39m         render(\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 104 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mHighlightPopover\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 105 |\u001b[39m                 highlight\u001b[33m=\u001b[39m{mockHighlight}\u001b[22m\n\u001b[2m     \u001b[90m 106 |\u001b[39m                 onClose\u001b[33m=\u001b[39m{mockOnClose}\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat createFiberFromTypeAndProps (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:5021:28)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat createFiberFromElement (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:5035:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat reconcileChildFibersImpl (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:6920:31)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:7098:33\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat reconcileChildren (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:9702:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat beginWork (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:11899:15)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat runWithFiberInDEV (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:874:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat performUnitOfWork (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:17641:22)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat workLoopSync (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:17469:41)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat renderRootSync (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:17450:11)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat performWorkOnRoot (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:16583:35)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat performWorkOnRootViaSchedulerTask (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom-client.development.js\u001b[2m:18957:7)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat flushActQueue (\u001b[22m\u001b[2mnode_modules/react/cjs/react.development.js\u001b[2m:590:34)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat process.env.NODE_ENV.exports.act (\u001b[22m\u001b[2mnode_modules/react/cjs/react.development.js\u001b[2m:884:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/act-compat.js\u001b[2m:46:25\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat renderRoot (\u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/pure.js\u001b[2m:189:26)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat render (\u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/pure.js\u001b[2m:291:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/components/__tests__/HighlightPopover.test.tsx\u001b[39m\u001b[0m\u001b[2m:103:15)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/mengtian/Codes/study-companion/src/components/__tests__/HighlightPopover.test.tsx","startTime":1772250044697,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["DeleteBookButton component"],"duration":70,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DeleteBookButton component renders the delete button initially","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045190,"status":"passed","title":"renders the delete button initially"},{"ancestorTitles":["DeleteBookButton component"],"duration":25,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DeleteBookButton component opens the confirmation modal when clicked","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250045260,"status":"passed","title":"opens the confirmation modal when clicked"},{"ancestorTitles":["DeleteBookButton component"],"duration":22,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DeleteBookButton component closes the modal when cancel is clicked","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045285,"status":"passed","title":"closes the modal when cancel is clicked"},{"ancestorTitles":["DeleteBookButton component"],"duration":27,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DeleteBookButton component calls fetch DELETE and refreshes router when confirmed","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1772250045307,"status":"passed","title":"calls fetch DELETE and refreshes router when confirmed"},{"ancestorTitles":["DeleteBookButton component"],"duration":40,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DeleteBookButton component handles api errors gracefully and shows an alert","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045335,"status":"passed","title":"handles api errors gracefully and shows an alert"}],"endTime":1772250045379,"message":"","name":"/Users/mengtian/Codes/study-companion/src/components/__tests__/DeleteBookButton.test.tsx","startTime":1772250044943,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["/api/books/[id]","GET"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id] GET returns 401 Unauthorized if no session exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045386,"status":"passed","title":"returns 401 Unauthorized if no session exists"},{"ancestorTitles":["/api/books/[id]","GET"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id] GET returns 404 Not Found if book does not exist or belong to user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045387,"status":"passed","title":"returns 404 Not Found if book does not exist or belong to user"},{"ancestorTitles":["/api/books/[id]","GET"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id] GET returns 200 and the book object","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045388,"status":"passed","title":"returns 200 and the book object"},{"ancestorTitles":["/api/books/[id]","GET"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id] GET returns 500 on db error","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045388,"status":"passed","title":"returns 500 on db error"},{"ancestorTitles":["/api/books/[id]","DELETE"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id] DELETE returns 401 Unauthorized if no session exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045399,"status":"passed","title":"returns 401 Unauthorized if no session exists"},{"ancestorTitles":["/api/books/[id]","DELETE"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id] DELETE returns 404 Not Found if book does not exist or belong to user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045401,"status":"passed","title":"returns 404 Not Found if book does not exist or belong to user"},{"ancestorTitles":["/api/books/[id]","DELETE"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id] DELETE returns 200 and deletes the book on success","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250045401,"status":"passed","title":"returns 200 and deletes the book on success"},{"ancestorTitles":["/api/books/[id]","DELETE"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id] DELETE returns 500 on db error","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045402,"status":"passed","title":"returns 500 on db error"}],"endTime":1772250045403,"message":"","name":"/Users/mengtian/Codes/study-companion/src/app/api/books/[id]/__tests__/route.test.ts","startTime":1772250045314,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PDFViewer component"],"duration":66,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PDFViewer component renders the core viewer with standard props","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250045164,"status":"passed","title":"renders the core viewer with standard props"},{"ancestorTitles":["PDFViewer component"],"duration":75,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PDFViewer component shows navigation header with book title","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045230,"status":"passed","title":"shows navigation header with book title"},{"ancestorTitles":["PDFViewer component"],"duration":26,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PDFViewer component navigates back when back button is clicked","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045305,"status":"passed","title":"navigates back when back button is clicked"},{"ancestorTitles":["PDFViewer component"],"duration":16,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PDFViewer component fetches highlights on load","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045331,"status":"passed","title":"fetches highlights on load"},{"ancestorTitles":["PDFViewer component"],"duration":18,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PDFViewer component toggles scale state using zoom buttons","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1772250045347,"status":"passed","title":"toggles scale state using zoom buttons"},{"ancestorTitles":["PDFViewer component"],"duration":23,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PDFViewer component saves bookmark","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045365,"status":"passed","title":"saves bookmark"},{"ancestorTitles":["PDFViewer component"],"duration":15,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PDFViewer component handles navigate-to-highlight event correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045389,"status":"passed","title":"handles navigate-to-highlight event correctly"}],"endTime":1772250045406,"message":"","name":"/Users/mengtian/Codes/study-companion/src/components/__tests__/PDFViewer.test.tsx","startTime":1772250044695,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["LibraryGrid component regression tests"],"duration":75,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"LibraryGrid component regression tests renders initial items correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045279,"status":"passed","title":"renders initial items correctly"},{"ancestorTitles":["LibraryGrid component regression tests"],"duration":37,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"LibraryGrid component regression tests synchronizes internal state when initialItems prop changes from the server","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250045354,"status":"passed","title":"synchronizes internal state when initialItems prop changes from the server"},{"ancestorTitles":["LibraryGrid component regression tests"],"duration":34,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"LibraryGrid component regression tests makes API call and calls router.refresh on successfully moving a book to a folder","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1772250045391,"status":"passed","title":"makes API call and calls router.refresh on successfully moving a book to a folder"}],"endTime":1772250045426,"message":"","name":"/Users/mengtian/Codes/study-companion/src/components/__tests__/LibraryGrid.test.tsx","startTime":1772250045007,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["LibraryGrid Thumbnail Rendering"],"duration":104,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"LibraryGrid Thumbnail Rendering renders img tag when thumbnailUrl is provided","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045274,"status":"passed","title":"renders img tag when thumbnailUrl is provided"},{"ancestorTitles":["LibraryGrid Thumbnail Rendering"],"duration":68,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"LibraryGrid Thumbnail Rendering renders fallback icon when thumbnailUrl is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045378,"status":"passed","title":"renders fallback icon when thumbnailUrl is missing"},{"ancestorTitles":["LibraryGrid Thumbnail Rendering"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"LibraryGrid Thumbnail Rendering applies book-like styling (aspect-ratio 3/4)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045446,"status":"passed","title":"applies book-like styling (aspect-ratio 3/4)"}],"endTime":1772250045458,"message":"","name":"/Users/mengtian/Codes/study-companion/src/components/__tests__/PDFThumbnails.test.tsx","startTime":1772250045051,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Register Page"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Register Page renders register form","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045504,"status":"passed","title":"renders register form"}],"endTime":1772250045512,"message":"","name":"/Users/mengtian/Codes/study-companion/src/__tests__/app/register.test.tsx","startTime":1772250045388,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Drag and Drop Physics Engine"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Drag and Drop Physics Engine returns the folder dropzone when the book center is exactly in the inner 85% core","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045522,"status":"passed","title":"returns the folder dropzone when the book center is exactly in the inner 85% core"},{"ancestorTitles":["Drag and Drop Physics Engine"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Drag and Drop Physics Engine blocks the layout shift (returns []) when book center is in the outer 7.5% margin and time < 400ms","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250045524,"status":"passed","title":"blocks the layout shift (returns []) when book center is in the outer 7.5% margin and time < 400ms"},{"ancestorTitles":["Drag and Drop Physics Engine"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Drag and Drop Physics Engine allows the layout shift (returns closest container) when cursor lingers in margin for > 400ms","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045526,"status":"passed","title":"allows the layout shift (returns closest container) when cursor lingers in margin for > 400ms"},{"ancestorTitles":["Drag and Drop Physics Engine"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Drag and Drop Physics Engine dispatches a fake pointermove event if the layout shift is blocked to keep dnd-kit alive","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1772250045527,"status":"passed","title":"dispatches a fake pointermove event if the layout shift is blocked to keep dnd-kit alive"}],"endTime":1772250045528,"message":"","name":"/Users/mengtian/Codes/study-companion/src/components/__tests__/dnd-physics.test.ts","startTime":1772250045469,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["AdminDashboardClient Component"],"duration":116,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AdminDashboardClient Component renders the overview tab by default and fetches metrics","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1772250045367,"status":"passed","title":"renders the overview tab by default and fetches metrics"},{"ancestorTitles":["AdminDashboardClient Component"],"duration":60,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AdminDashboardClient Component switches to notes tab and fetches global notes","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1772250045483,"status":"passed","title":"switches to notes tab and fetches global notes"}],"endTime":1772250045543,"message":"","name":"/Users/mengtian/Codes/study-companion/src/__tests__/components/AdminDashboardClient.test.tsx","startTime":1772250045160,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Login Page"],"duration":34,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Login Page renders login form and providers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045515,"status":"passed","title":"renders login form and providers"}],"endTime":1772250045550,"message":"","name":"/Users/mengtian/Codes/study-companion/src/__tests__/app/login.test.tsx","startTime":1772250045411,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PATCH /api/books/[id]/progress"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PATCH /api/books/[id]/progress returns 401 Unauthorized if no session exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045568,"status":"passed","title":"returns 401 Unauthorized if no session exists"},{"ancestorTitles":["PATCH /api/books/[id]/progress"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PATCH /api/books/[id]/progress returns 400 Bad Request if lastPage is invalid","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045569,"status":"passed","title":"returns 400 Bad Request if lastPage is invalid"},{"ancestorTitles":["PATCH /api/books/[id]/progress"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PATCH /api/books/[id]/progress returns 404 Not Found if book does not exist or belong to user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045569,"status":"passed","title":"returns 404 Not Found if book does not exist or belong to user"},{"ancestorTitles":["PATCH /api/books/[id]/progress"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PATCH /api/books/[id]/progress returns 200 and updates the book progress on success","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250045569,"status":"passed","title":"returns 200 and updates the book progress on success"},{"ancestorTitles":["PATCH /api/books/[id]/progress"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PATCH /api/books/[id]/progress returns 500 on db error","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045570,"status":"passed","title":"returns 500 on db error"}],"endTime":1772250045576,"message":"","name":"/Users/mengtian/Codes/study-companion/src/app/api/books/[id]/progress/__tests__/route.test.ts","startTime":1772250045476,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GET /api/books"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/books returns 401 Unauthorized if no session exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045582,"status":"passed","title":"returns 401 Unauthorized if no session exists"},{"ancestorTitles":["GET /api/books"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/books fetches books belonging to the active user","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250045583,"status":"passed","title":"fetches books belonging to the active user"},{"ancestorTitles":["GET /api/books"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/books returns 500 when database fetching fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045584,"status":"passed","title":"returns 500 when database fetching fails"}],"endTime":1772250045590,"message":"","name":"/Users/mengtian/Codes/study-companion/src/app/api/books/__tests__/route.test.ts","startTime":1772250045538,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["/api/highlights/[id]","DELETE"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/highlights/[id] DELETE returns 401 Unauthorized if no session exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045597,"status":"passed","title":"returns 401 Unauthorized if no session exists"},{"ancestorTitles":["/api/highlights/[id]","DELETE"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/highlights/[id] DELETE returns 404 Not Found if highlight does not exist or belong to user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045598,"status":"passed","title":"returns 404 Not Found if highlight does not exist or belong to user"},{"ancestorTitles":["/api/highlights/[id]","DELETE"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/highlights/[id] DELETE returns 200 and deletes the highlight on success","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250045598,"status":"passed","title":"returns 200 and deletes the highlight on success"},{"ancestorTitles":["/api/highlights/[id]","DELETE"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/highlights/[id] DELETE returns 500 on db error","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045598,"status":"passed","title":"returns 500 on db error"},{"ancestorTitles":["/api/highlights/[id]","PATCH"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/highlights/[id] PATCH returns 401 Unauthorized if no session exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045603,"status":"passed","title":"returns 401 Unauthorized if no session exists"},{"ancestorTitles":["/api/highlights/[id]","PATCH"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/highlights/[id] PATCH returns 404 Not Found if highlight does not exist or belong to user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045603,"status":"passed","title":"returns 404 Not Found if highlight does not exist or belong to user"},{"ancestorTitles":["/api/highlights/[id]","PATCH"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/highlights/[id] PATCH returns 200 and updates the highlight comment on success","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250045604,"status":"passed","title":"returns 200 and updates the highlight comment on success"},{"ancestorTitles":["/api/highlights/[id]","PATCH"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/highlights/[id] PATCH returns 500 on db error","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045604,"status":"passed","title":"returns 500 on db error"}],"endTime":1772250045605,"message":"","name":"/Users/mengtian/Codes/study-companion/src/app/api/highlights/[id]/__tests__/route.test.ts","startTime":1772250045555,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["UploadBook Component"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UploadBook Component renders the upload button","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045605,"status":"passed","title":"renders the upload button"}],"endTime":1772250045611,"message":"","name":"/Users/mengtian/Codes/study-companion/src/__tests__/components/UploadBook.test.tsx","startTime":1772250045464,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["/api/books GET Route"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books GET Route returns 401 when unauthenticated","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045637,"status":"passed","title":"returns 401 when unauthenticated"},{"ancestorTitles":["/api/books GET Route"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books GET Route returns 200 with list of books","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1772250045642,"status":"passed","title":"returns 200 with list of books"}],"endTime":1772250045644,"message":"","name":"/Users/mengtian/Codes/study-companion/src/__tests__/api/books/route.test.ts","startTime":1772250045549,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ClientReaderLayout component"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ClientReaderLayout component initializes with page 1 if no param and no book lastPage","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045647,"status":"passed","title":"initializes with page 1 if no param and no book lastPage"},{"ancestorTitles":["ClientReaderLayout component"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ClientReaderLayout component initializes with book lastPage if present","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045654,"status":"passed","title":"initializes with book lastPage if present"},{"ancestorTitles":["ClientReaderLayout component"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ClientReaderLayout component prioritizes URL searchParam over book lastPage","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045656,"status":"passed","title":"prioritizes URL searchParam over book lastPage"},{"ancestorTitles":["ClientReaderLayout component"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ClientReaderLayout component updates current page when search params change dynamically","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045663,"status":"passed","title":"updates current page when search params change dynamically"},{"ancestorTitles":["ClientReaderLayout component"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ClientReaderLayout component updates current page when book ID changes","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045665,"status":"passed","title":"updates current page when book ID changes"},{"ancestorTitles":["ClientReaderLayout component"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ClientReaderLayout component does not re-sync if the same book is passed but lastPage prop differs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045667,"status":"passed","title":"does not re-sync if the same book is passed but lastPage prop differs"}],"endTime":1772250045672,"message":"","name":"/Users/mengtian/Codes/study-companion/src/components/__tests__/ClientReaderLayout.test.tsx","startTime":1772250045524,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["/api/books/[id] GET Route"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id] GET Route returns 401 if unauthenticated","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045673,"status":"passed","title":"returns 401 if unauthenticated"},{"ancestorTitles":["/api/books/[id] GET Route"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id] GET Route returns 404 if book not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045674,"status":"passed","title":"returns 404 if book not found"},{"ancestorTitles":["/api/books/[id] GET Route"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id] GET Route returns 200 with book data","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045674,"status":"passed","title":"returns 200 with book data"}],"endTime":1772250045675,"message":"","name":"/Users/mengtian/Codes/study-companion/src/__tests__/api/books/[id]/route.test.ts","startTime":1772250045581,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["DELETE /api/folder/[id]"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/folder/[id] returns 401 if unauthorized","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045693,"status":"passed","title":"returns 401 if unauthorized"},{"ancestorTitles":["DELETE /api/folder/[id]"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/folder/[id] returns 404 if folder not found or does not belong to user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045693,"status":"passed","title":"returns 404 if folder not found or does not belong to user"},{"ancestorTitles":["DELETE /api/folder/[id]"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/folder/[id] deletes folder successfully if found and belongs to user","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250045694,"status":"passed","title":"deletes folder successfully if found and belongs to user"},{"ancestorTitles":["DELETE /api/folder/[id]"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/folder/[id] returns 500 on internal server error","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045694,"status":"passed","title":"returns 500 on internal server error"},{"ancestorTitles":["PATCH /api/folder/[id]"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PATCH /api/folder/[id] returns 401 if unauthorized","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045697,"status":"passed","title":"returns 401 if unauthorized"},{"ancestorTitles":["PATCH /api/folder/[id]"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PATCH /api/folder/[id] returns 400 if name is invalid","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045697,"status":"passed","title":"returns 400 if name is invalid"},{"ancestorTitles":["PATCH /api/folder/[id]"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PATCH /api/folder/[id] returns 404 if folder not found or does not belong to user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045697,"status":"passed","title":"returns 404 if folder not found or does not belong to user"},{"ancestorTitles":["PATCH /api/folder/[id]"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PATCH /api/folder/[id] renames folder successfully if found and belongs to user","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1772250045697,"status":"passed","title":"renames folder successfully if found and belongs to user"},{"ancestorTitles":["PATCH /api/folder/[id]"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PATCH /api/folder/[id] returns 500 on internal server error","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045698,"status":"passed","title":"returns 500 on internal server error"}],"endTime":1772250045698,"message":"","name":"/Users/mengtian/Codes/study-companion/src/app/api/folder/[id]/__tests__/route.test.ts","startTime":1772250045627,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["/api/books/[id]/bookmarks Routes","GET"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/bookmarks Routes GET returns 401 when unauthenticated","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045693,"status":"passed","title":"returns 401 when unauthenticated"},{"ancestorTitles":["/api/books/[id]/bookmarks Routes","GET"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/bookmarks Routes GET returns 200 with list of bookmarks","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250045696,"status":"passed","title":"returns 200 with list of bookmarks"},{"ancestorTitles":["/api/books/[id]/bookmarks Routes","POST"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/bookmarks Routes POST returns 400 for invalid request body","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045697,"status":"passed","title":"returns 400 for invalid request body"},{"ancestorTitles":["/api/books/[id]/bookmarks Routes","POST"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/bookmarks Routes POST creates bookmark successfully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250045699,"status":"passed","title":"creates bookmark successfully"}],"endTime":1772250045705,"message":"","name":"/Users/mengtian/Codes/study-companion/src/__tests__/api/books/[id]/bookmarks/route.test.ts","startTime":1772250045596,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["/api/books/[id]/progress PATCH Route"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/progress PATCH Route returns 401 when unauthenticated","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045702,"status":"passed","title":"returns 401 when unauthenticated"},{"ancestorTitles":["/api/books/[id]/progress PATCH Route"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/progress PATCH Route returns 400 for invalid page number","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045706,"status":"passed","title":"returns 400 for invalid page number"},{"ancestorTitles":["/api/books/[id]/progress PATCH Route"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/progress PATCH Route returns 404 if book not found or unauthorized","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045708,"status":"passed","title":"returns 404 if book not found or unauthorized"},{"ancestorTitles":["/api/books/[id]/progress PATCH Route"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"/api/books/[id]/progress PATCH Route updates book progress successfully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250045708,"status":"passed","title":"updates book progress successfully"}],"endTime":1772250045709,"message":"","name":"/Users/mengtian/Codes/study-companion/src/__tests__/api/books/[id]/progress/route.test.ts","startTime":1772250045611,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["NoteSidebar component"],"duration":142,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NoteSidebar component fetches and renders highlights on initial load","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250045142,"status":"passed","title":"fetches and renders highlights on initial load"},{"ancestorTitles":["NoteSidebar component"],"duration":35,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NoteSidebar component shows all highlights by default, and filters out empty ones when Notes Only is active","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250045285,"status":"passed","title":"shows all highlights by default, and filters out empty ones when Notes Only is active"},{"ancestorTitles":["NoteSidebar component"],"duration":21,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NoteSidebar component can switch to Bookmarks tab and display bookmarks","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045320,"status":"passed","title":"can switch to Bookmarks tab and display bookmarks"},{"ancestorTitles":["NoteSidebar component"],"duration":45,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NoteSidebar component listens to edit-highlight window event and opens edit form","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045341,"status":"passed","title":"listens to edit-highlight window event and opens edit form"},{"ancestorTitles":["NoteSidebar component"],"duration":34,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NoteSidebar component listens to highlight-added window event and updates state without fetching","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250045386,"status":"passed","title":"listens to highlight-added window event and updates state without fetching"},{"ancestorTitles":["NoteSidebar component"],"duration":185,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NoteSidebar component can add a note to a highlight","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1772250045420,"status":"passed","title":"can add a note to a highlight"},{"ancestorTitles":["NoteSidebar component"],"duration":71,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NoteSidebar component can delete a highlight with two-step confirmation","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1772250045605,"status":"passed","title":"can delete a highlight with two-step confirmation"},{"ancestorTitles":["NoteSidebar component"],"duration":29,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NoteSidebar component can delete a note with two-step confirmation","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1772250045676,"status":"passed","title":"can delete a note with two-step confirmation"},{"ancestorTitles":["NoteSidebar component"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NoteSidebar component can delete a bookmark (single-step)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045705,"status":"passed","title":"can delete a bookmark (single-step)"},{"ancestorTitles":["NoteSidebar component"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NoteSidebar component dispatches navigate-to-highlight event when a highlight card is clicked","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772250045716,"status":"passed","title":"dispatches navigate-to-highlight event when a highlight card is clicked"},{"ancestorTitles":["NoteSidebar component"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NoteSidebar component applies compact styling to tabs and cards","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1772250045724,"status":"passed","title":"applies compact styling to tabs and cards"}],"endTime":1772250045732,"message":"","name":"/Users/mengtian/Codes/study-companion/src/components/__tests__/NoteSidebar.test.tsx","startTime":1772250044692,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SearchClient Components"],"duration":62,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SearchClient Components renders the search input","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045093,"status":"passed","title":"renders the search input"},{"ancestorTitles":["SearchClient Components"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SearchClient Components does not fetch on initial render or empty query","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045155,"status":"passed","title":"does not fetch on initial render or empty query"},{"ancestorTitles":["SearchClient Components"],"duration":340,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SearchClient Components fetches search results after debounced typing","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1772250045159,"status":"passed","title":"fetches search results after debounced typing"},{"ancestorTitles":["SearchClient Components"],"duration":317,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SearchClient Components displays no results message when empty array is returned","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045500,"status":"passed","title":"displays no results message when empty array is returned"}],"endTime":1772250045817,"message":"","name":"/Users/mengtian/Codes/study-companion/src/__tests__/components/SearchClient.test.tsx","startTime":1772250044685,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["UploadBook component"],"duration":92,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UploadBook component renders the upload button","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045155,"status":"passed","title":"renders the upload button"},{"ancestorTitles":["UploadBook component"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UploadBook component alerts if the uploaded file is not a PDF","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772250045248,"status":"passed","title":"alerts if the uploaded file is not a PDF"},{"ancestorTitles":["UploadBook component"],"duration":1642,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UploadBook component successfully uploads a new PDF and redirects","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1772250045262,"status":"passed","title":"successfully uploads a new PDF and redirects"},{"ancestorTitles":["UploadBook component"],"duration":23,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UploadBook component shows duplicate modal when file name matches an existing book","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1772250046904,"status":"passed","title":"shows duplicate modal when file name matches an existing book"},{"ancestorTitles":["UploadBook component"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UploadBook component shows exact duplicate modal and redirects to existing book on click","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772250046928,"status":"passed","title":"shows exact duplicate modal and redirects to existing book on click"}],"endTime":1772250046940,"message":"","name":"/Users/mengtian/Codes/study-companion/src/components/__tests__/UploadBook.test.tsx","startTime":1772250044699,"status":"passed","summary":""}],"wasInterrupted":false}
